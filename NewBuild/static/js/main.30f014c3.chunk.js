(this.webpackJsonpshipay=this.webpackJsonpshipay||[]).push([[0],{60:function(e,t,n){},61:function(e,t,n){},70:function(e,t,n){},71:function(e,t,n){"use strict";n.r(t);var s=n(0),a=n.n(s),i=n(8),r=n.n(i),c=(n(60),n(23)),o=n(10),l=n(49),u=n(30),h=n(31),d=n(38),j=n(37),b=n(103),v=n(102),p=n(39),g=(n(61),n(42)),O=(n(62),n(4)),m=function(e){Object(d.a)(n,e);var t=Object(j.a)(n);function n(e){var s;return Object(u.a)(this,n),(s=t.call(this,e)).state={client:"",value:"",establishment:"",description:"",errorMensage:"",transactions:[]},s}return Object(h.a)(n,[{key:"componentDidMount",value:function(){this.setState({transactions:JSON.parse(localStorage.getItem("transaction"))})}},{key:"handleSubmit",value:function(e){console.log("chegou 1"),e.preventDefault(),this.validEmptyField()}},{key:"validEmptyField",value:function(){console.log("chegou 2");var e=this.state;if(""===e.establishment)return this.setState({errorMensage:"Digite o numero do estabelecimento"});""!==e.client?""!==e.value?this.isValidCPF(e.client):this.setState({errorMensage:"Digite o valor da compra"}):this.setState({errorMensage:"Digite o numero do cliente"})}},{key:"isValidCPF",value:function(e){if(console.log("chegou 3"),"string"!==typeof e)return!1;if(11!==(e=e.replace(/[\s.-]*/gim,"")).length)return this.setState({errorMensage:"CPF Incompleto"});e&&11===e.length&&"00000000000"!==e&&"11111111111"!==e&&"22222222222"!==e&&"=33333333333"!==e&&"44444444444"!==e&&"55555555555"!==e&&"66666666666"!==e&&"77777777777"!==e&&"88888888888"!==e&&"99999999999"!==e||this.setState({errorMensage:"N\xe3o caiu aqui"});for(var t,n=0,s=1;s<=9;s++)n+=parseInt(e.substring(s-1,s))*(11-s);if(10!==(t=10*n%11)&&11!==t||(t=0),t!==parseInt(e.substring(9,10)))return this.setState({errorMensage:"CPF inv\xe1lido"});for(n=0,s=1;s<=10;s++)n+=parseInt(e.substring(s-1,s))*(12-s);if(10!==(t=10*n%11)&&11!==t||(t=0),t!==parseInt(e.substring(10,11)))return this.setState({errorMensage:"CPF inv\xe1lido"});this.saveTransaction()}},{key:"saveTransaction",value:function(){console.log("chegou 4");var e={value:this.state.value,establishment:this.state.establishment,client:this.state.client,description:this.state.description},t=[].concat(Object(l.a)(this.state.transactions),[e]);console.log("Criou o newTransaction"),this.setState({transactions:t,value:"",establishment:"",client:"",description:""},this.saveStorage),console.log("Adicionou a state"),console.log("Limpou os campos"),console.log("Chamou o save")}},{key:"saveStorage",value:function(){console.log("chegou 5"),localStorage.setItem("transaction",JSON.stringify(this.state.transactions)),this.notify()}},{key:"notify",value:function(){console.log("chegou 6"),g.b.success("\ud83e\udd84 Wow so easy!",{position:"top-center",autoClose:2e3,hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})}},{key:"render",value:function(){var e=this;return Object(O.jsxs)("div",{className:"newTransactionContainer",children:[Object(O.jsx)(g.a,{position:"top-center",autoClose:2e3,hideProgressBar:!0,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0}),Object(O.jsxs)("form",{onSubmit:function(t){return e.handleSubmit(t)},children:[Object(O.jsx)("small",{children:this.state.errorMensage}),Object(O.jsxs)("div",{className:"divInput",children:[Object(O.jsx)(p.a,{label:"Estabelecimento",customInput:v.a,value:this.state.establishment,onChange:function(t){return e.setState({establishment:t.target.value,errorMensage:""})},className:"input",format:"##.###.###/####-##"}),Object(O.jsx)(p.a,{label:"Cliente",customInput:v.a,value:this.state.client,onChange:function(t){return e.setState({client:t.target.value,errorMensage:""})},className:"input",format:"###.###.###-##"})]}),Object(O.jsxs)("div",{className:"divInput",children:[Object(O.jsx)(p.a,{label:"Valor",customInput:v.a,value:this.state.value,onChange:function(t){return e.setState({value:t.target.value,errorMensage:""})},className:"input",prefix:"R$",decimalSeparator:",",decimalScale:2,allowNegative:!1}),Object(O.jsx)(v.a,{label:"Descri\xe7\xe3o",className:"input",value:this.state.description,onChange:function(t){return e.setState({description:t.target.value,errorMensage:""})}})]}),Object(O.jsxs)("div",{className:"divButton",children:[Object(O.jsx)(b.a,{variant:"contained",color:"primary",type:"submit",children:"Finalizar venda"}),Object(O.jsx)(b.a,{variant:"contained",color:"secondary",children:Object(O.jsx)(c.b,{to:"/vendas",children:"Vendas realizadas"})})]})]}),Object(O.jsx)("footer",{children:Object(O.jsxs)("p",{children:["Verificar"," ",Object(O.jsx)("a",{style:{color:"blue "},href:"https://github.com/FelipeEduardoOliveira/Shipay",children:"C\xf3digo fonte"})]})})]})}}]),n}(s.Component),f=n(45),x=n.n(f),y=n(48),S=n(32),C=(n(70),function(e){Object(d.a)(n,e);var t=Object(j.a)(n);function n(e){var s;return Object(u.a)(this,n),(s=t.call(this,e)).state={transactions:[],serachEstablishment:""},s.showListTransaction=s.showListTransaction.bind(Object(S.a)(s)),s}return Object(h.a)(n,[{key:"componentDidMount",value:function(){this.getStorage()}},{key:"componentDidUpdate",value:function(){localStorage.setItem("transaction",JSON.stringify(this.state.transactions))}},{key:"getStorage",value:function(){var e=Object(y.a)(x.a.mark((function e(){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.setState({transactions:JSON.parse(localStorage.getItem("transaction"))});case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"newArray",value:function(e){var t=this.state.transactions;t.splice(e,1),this.setState({transactions:t})}},{key:"showListTransaction",value:function(){var e=this,t=this.state;return""===t.serachEstablishment?t.transactions.map((function(t,n){return Object(O.jsxs)("tr",{children:[Object(O.jsx)("td",{children:t.establishment}),Object(O.jsx)("td",{children:t.client}),Object(O.jsx)("td",{children:t.value}),Object(O.jsx)("td",{children:t.description}),Object(O.jsx)("td",{onClick:function(){return e.newArray(n)},children:"Excluir"})]},n)})):t.transactions.map((function(n,s){return t.serachEstablishment===n.establishment?Object(O.jsxs)("tr",{children:[Object(O.jsx)("td",{children:n.establishment}),Object(O.jsx)("td",{children:n.client}),Object(O.jsx)("td",{children:n.value}),Object(O.jsx)("td",{children:n.description}),Object(O.jsx)("td",{onClick:function(){return e.newArray(s)},children:"Excluir"})]},s):""}))}},{key:"estabelecimento",value:function(){return this.state.transactions.map((function(e,t){return Object(O.jsx)("option",{children:e.establishment},t)}))}},{key:"render",value:function(){var e=this;return Object(O.jsxs)("div",{className:"viewTransactionContainer",children:[Object(O.jsxs)("div",{children:[Object(O.jsx)("input",{className:"findInput",list:"browsers",onChange:function(t){return e.setState({serachEstablishment:t.target.value})},placeholder:"Estabelecimento"}),Object(O.jsx)("div",{children:Object(O.jsx)("datalist",{id:"browsers",children:this.estabelecimento()})})]}),Object(O.jsxs)("table",{children:[Object(O.jsxs)("tr",{children:[Object(O.jsx)("th",{children:"Empresa"}),Object(O.jsx)("th",{children:"Cliente"}),Object(O.jsx)("th",{children:"Valor"}),Object(O.jsx)("th",{children:"Descri\xe7\xe3o"}),Object(O.jsx)("th",{children:"Deletar"})]}),this.showListTransaction()]}),Object(O.jsx)("div",{className:"divButton",children:Object(O.jsx)(b.a,{variant:"contained",color:"secondary",children:Object(O.jsx)(c.b,{to:"/",children:"Realizar Venda"})})})]})}}]),n}(s.Component));var k=function(){return Object(O.jsx)(c.a,{children:Object(O.jsxs)(o.c,{children:[Object(O.jsx)(o.a,{exact:!0,path:"/",component:m}),Object(O.jsx)(o.a,{exact:!0,path:"/vendas",component:C})]})})};var w=function(){return Object(O.jsx)("div",{children:Object(O.jsx)(k,{})})};r.a.render(Object(O.jsx)(a.a.StrictMode,{children:Object(O.jsx)(w,{})}),document.getElementById("root"))}},[[71,1,2]]]);
//# sourceMappingURL=main.30f014c3.chunk.js.map