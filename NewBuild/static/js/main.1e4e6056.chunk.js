(this.webpackJsonpshipay=this.webpackJsonpshipay||[]).push([[0],{60:function(e,t,n){},62:function(e,t,n){},70:function(e,t,n){},71:function(e,t,n){"use strict";n.r(t);var s=n(0),a=n.n(s),i=n(8),r=n.n(i),c=(n(60),n(23)),o=n(10),l=n(25),u=n.n(l),h=n(49),d=n(31),j=n(32),b=n(33),v=n(40),p=n(39),O=n(103),g=n(102),m=n(41),f=(n(62),n(44)),x=(n(63),n(4)),y=function(e){Object(v.a)(n,e);var t=Object(p.a)(n);function n(e){var s;return Object(j.a)(this,n),(s=t.call(this,e)).state={client:"",value:"",establishment:"",description:"",errorMensage:"",transactions:[]},s}return Object(b.a)(n,[{key:"componentDidMount",value:function(){this.setState({transactions:JSON.parse(localStorage.getItem("transaction"))})}},{key:"handleSubmit",value:function(e){console.log("chegou 1"),e.preventDefault(),this.validEmptyField()}},{key:"validEmptyField",value:function(){console.log("chegou 2");var e=this.state;if(""===e.establishment)return this.setState({errorMensage:"Digite o numero do estabelecimento"});""!==e.client?""!==e.value?this.isValidCPF(e.client):this.setState({errorMensage:"Digite o valor da compra"}):this.setState({errorMensage:"Digite o numero do cliente"})}},{key:"isValidCPF",value:function(e){if(console.log("chegou 3"),"string"!==typeof e)return!1;if(11!==(e=e.replace(/[\s.-]*/gim,"")).length)return this.setState({errorMensage:"CPF Incompleto"});e&&11===e.length&&"00000000000"!==e&&"11111111111"!==e&&"22222222222"!==e&&"=33333333333"!==e&&"44444444444"!==e&&"55555555555"!==e&&"66666666666"!==e&&"77777777777"!==e&&"88888888888"!==e&&"99999999999"!==e||this.setState({errorMensage:"N\xe3o caiu aqui"});for(var t,n=0,s=1;s<=9;s++)n+=parseInt(e.substring(s-1,s))*(11-s);if(10!==(t=10*n%11)&&11!==t||(t=0),t!==parseInt(e.substring(9,10)))return this.setState({errorMensage:"CPF inv\xe1lido"});for(n=0,s=1;s<=10;s++)n+=parseInt(e.substring(s-1,s))*(12-s);if(10!==(t=10*n%11)&&11!==t||(t=0),t!==parseInt(e.substring(10,11)))return this.setState({errorMensage:"CPF inv\xe1lido"});this.saveTransaction()}},{key:"saveTransaction",value:function(){var e=Object(d.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("chegou 4"),t={value:this.state.value,establishment:this.state.establishment,client:this.state.client,description:this.state.description},console.log("Criou o newTransaction"),e.next=5,this.setState({transactions:[].concat(Object(h.a)(this.state.transactions),[t])});case 5:console.log("Adicionou a state"),this.setState({value:"",establishment:"",client:"",description:""}),console.log("Limpou os campos"),this.saveStorage(),console.log("Chamou o save");case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"saveStorage",value:function(){console.log("chegou 5"),localStorage.setItem("transaction",JSON.stringify(this.state.transactions)),this.notify()}},{key:"notify",value:function(){console.log("chegou 6"),f.b.success("\ud83e\udd84 Wow so easy!",{position:"top-center",autoClose:2e3,hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})}},{key:"render",value:function(){var e=this;return Object(x.jsxs)("div",{className:"newTransactionContainer",children:[Object(x.jsx)(f.a,{position:"top-center",autoClose:2e3,hideProgressBar:!0,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0}),Object(x.jsxs)("form",{onSubmit:function(t){return e.handleSubmit(t)},children:[Object(x.jsx)("small",{children:this.state.errorMensage}),Object(x.jsxs)("div",{className:"divInput",children:[Object(x.jsx)(m.a,{label:"Estabelecimento",customInput:g.a,value:this.state.establishment,onChange:function(t){return e.setState({establishment:t.target.value,errorMensage:""})},className:"input",format:"##.###.###/####-##"}),Object(x.jsx)(m.a,{label:"Cliente",customInput:g.a,value:this.state.client,onChange:function(t){return e.setState({client:t.target.value,errorMensage:""})},className:"input",format:"###.###.###-##"})]}),Object(x.jsxs)("div",{className:"divInput",children:[Object(x.jsx)(m.a,{label:"Valor",customInput:g.a,value:this.state.value,onChange:function(t){return e.setState({value:t.target.value,errorMensage:""})},className:"input",prefix:"R$",decimalSeparator:",",decimalScale:2,allowNegative:!1}),Object(x.jsx)(g.a,{label:"Descri\xe7\xe3o",className:"input",value:this.state.description,onChange:function(t){return e.setState({description:t.target.value,errorMensage:""})}})]}),Object(x.jsxs)("div",{className:"divButton",children:[Object(x.jsx)(O.a,{variant:"contained",color:"primary",type:"submit",children:"Finalizar venda"}),Object(x.jsx)(O.a,{variant:"contained",color:"secondary",children:Object(x.jsx)(c.b,{to:"/vendas",children:"Vendas realizadas"})})]})]}),Object(x.jsx)("footer",{children:Object(x.jsxs)("p",{children:["Verificar"," ",Object(x.jsx)("a",{style:{color:"blue "},href:"https://github.com/FelipeEduardoOliveira/Shipay",children:"C\xf3digo fonte"})]})})]})}}]),n}(s.Component),S=n(34),C=(n(70),function(e){Object(v.a)(n,e);var t=Object(p.a)(n);function n(e){var s;return Object(j.a)(this,n),(s=t.call(this,e)).state={transactions:[],serachEstablishment:""},s.showListTransaction=s.showListTransaction.bind(Object(S.a)(s)),s}return Object(b.a)(n,[{key:"componentDidMount",value:function(){this.getStorage()}},{key:"componentDidUpdate",value:function(){localStorage.setItem("transaction",JSON.stringify(this.state.transactions))}},{key:"getStorage",value:function(){var e=Object(d.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.setState({transactions:JSON.parse(localStorage.getItem("transaction"))});case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"newArray",value:function(e){var t=this.state.transactions;t.splice(e,1),this.setState({transactions:t})}},{key:"showListTransaction",value:function(){var e=this,t=this.state;return""===t.serachEstablishment?t.transactions.map((function(t,n){return Object(x.jsxs)("tr",{children:[Object(x.jsx)("td",{children:t.establishment}),Object(x.jsx)("td",{children:t.client}),Object(x.jsx)("td",{children:t.value}),Object(x.jsx)("td",{children:t.description}),Object(x.jsx)("td",{onClick:function(){return e.newArray(n)},children:"Excluir"})]},n)})):t.transactions.map((function(n,s){return t.serachEstablishment===n.establishment?Object(x.jsxs)("tr",{children:[Object(x.jsx)("td",{children:n.establishment}),Object(x.jsx)("td",{children:n.client}),Object(x.jsx)("td",{children:n.value}),Object(x.jsx)("td",{children:n.description}),Object(x.jsx)("td",{onClick:function(){return e.newArray(s)},children:"Excluir"})]},s):""}))}},{key:"estabelecimento",value:function(){return this.state.transactions.map((function(e,t){return Object(x.jsx)("option",{children:e.establishment},t)}))}},{key:"render",value:function(){var e=this;return Object(x.jsxs)("div",{className:"viewTransactionContainer",children:[Object(x.jsxs)("div",{children:[Object(x.jsx)("input",{className:"findInput",list:"browsers",onChange:function(t){return e.setState({serachEstablishment:t.target.value})},placeholder:"Estabelecimento"}),Object(x.jsx)("div",{children:Object(x.jsx)("datalist",{id:"browsers",children:this.estabelecimento()})})]}),Object(x.jsxs)("table",{children:[Object(x.jsxs)("tr",{children:[Object(x.jsx)("th",{children:"Empresa"}),Object(x.jsx)("th",{children:"Cliente"}),Object(x.jsx)("th",{children:"Valor"}),Object(x.jsx)("th",{children:"Descri\xe7\xe3o"}),Object(x.jsx)("th",{children:"Deletar"})]}),this.showListTransaction()]}),Object(x.jsx)("div",{className:"divButton",children:Object(x.jsx)(O.a,{variant:"contained",color:"secondary",children:Object(x.jsx)(c.b,{to:"/",children:"Realizar Venda"})})})]})}}]),n}(s.Component));var k=function(){return Object(x.jsx)(c.a,{children:Object(x.jsxs)(o.c,{children:[Object(x.jsx)(o.a,{exact:!0,path:"/",component:y}),Object(x.jsx)(o.a,{exact:!0,path:"/vendas",component:C})]})})};var w=function(){return Object(x.jsx)("div",{children:Object(x.jsx)(k,{})})};r.a.render(Object(x.jsx)(a.a.StrictMode,{children:Object(x.jsx)(w,{})}),document.getElementById("root"))}},[[71,1,2]]]);
//# sourceMappingURL=main.1e4e6056.chunk.js.map